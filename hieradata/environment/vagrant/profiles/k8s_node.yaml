---
# Docker configuration
docker::ensure: 'present'
docker::service_state: 'running'
docker::service_enable: true
docker::log_level: 'info'
docker::iptables: true
docker::ip_masq: true

# Flannel configuration
flannel::service_state: 'running'
flannel::service_enable: true
flannel::manage_docker: true
flannel::etcd_endpoints: ['http://etcd1.example.com:2379','http://etcd2.example.com:2379','http://etcd3.example.com:2379']
flannel::etcd_prefix: '/example.com/network'
flannel::network: '10.1.0.0/16'
flannel::iface: 'eth1'

# Kubernetes Repo mgmt and server role
kubernetes::manage_repo: 'false'
kubernetes::package_ensure: 'latest'
kubernetes::package_name_master: 'kubernetes-node'
kubernetes::kubernetes_role: 'node'

# Kubernetes frontend - Cockpit
# Open webbrowser: http://192.168.0.20:9090/
# auth with: root/vagrant
progiles::kubernetes::k8s_gui: 'true'

# Kubelet options
kubernetes::node::kubelet::kubelet_service_ensure: 'running'
kubernetes::node::kubelet::kubelet_service_enable: true
kubernetes::node::kubelet::kubelet_address: '0.0.0.0'
kubernetes::node::kubelet::kubelet_healthz_bind_address: '0.0.0.0'
kubernetes::node::kubelet::kubelet_port: 10250
kubernetes::node::kubelet::kubelet_reconcile_cidr: true
kubernetes::node::kubelet::kubelet_api_servers: 'http://k8s.example.com:8080'
kubernetes::node::kubelet::kubelet_register_node: true
kubernetes::node::kubelet::kubelet_pod_cidr: '10.1.0.0/16'
kubernetes::node::kubelet::kubelet_cluster_dns: '10.1.0.2'
kubernetes::node::kubelet::kubelet_cluster_domain: 'cluster.local'

# Kube Proxy options
kubernetes::node::kube_proxy::kubeproxy_service_ensure: 'running'
kubernetes::node::kube_proxy::kubeproxy_service_enable: true
kubernetes::node::kube_proxy::kubeproxy_bind_address: '0.0.0.0'
kubernetes::node::kube_proxy::kubeproxy_healthz_bind_address: '0.0.0.0'
kubernetes::node::kube_proxy::kubeproxy_master: 'http://k8s.example.com:8080'
kubernetes::node::kube_proxy::kubeproxy_proxy_mode: 'userspace'
