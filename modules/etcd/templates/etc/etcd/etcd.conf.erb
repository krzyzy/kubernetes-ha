# [member]
ETCD_NAME="<%= scope['etcd::etcd_name'] %>"
ETCD_DATA_DIR="<%= scope['etcd::data_dir'] %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::wal_dir']) -%>
ETCD_WAL_DIR="<%= scope['etcd::wal_dir'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::snapshot_count']) -%>
ETCD_SNAPSHOT_COUNT="<%= scope['etcd::snapshot_count'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::heartbeat_interval']) -%>
ETCD_HEARTBEAT_INTERVAL="<%= scope['etcd::heartbeat_interval'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::election_timeout']) -%>
ETCD_ELECTION_TIMEOUT="<%= scope['etcd::election_timeout'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::listen_peer_urls']) -%>
ETCD_LISTEN_PEER_URLS="<%= Array(scope['etcd::listen_peer_urls']).join(',') %>"
<% end -%>
ETCD_LISTEN_CLIENT_URLS="<%= Array(scope['etcd::listen_client_urls']).join(',') %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::max_snapshots']) -%>
ETCD_MAX_SNAPSHOTS="<%= scope['etcd::max_snapshots'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::max_wals']) -%>
ETCD_MAX_WALS="<%= scope['etcd::max_wals'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::cors']) -%>
ETCD_CORS="<%= Array(scope['etcd::cors']).join(',') %>"
<% end -%>
#
#[cluster]
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::initial_advertise_peer_urls']) -%>
ETCD_INITIAL_ADVERTISE_PEER_URLS="<%= Array(scope['etcd::initial_advertise_peer_urls']).join(',') %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::initial_cluster']) -%>
# if you use different ETCD_NAME (e.g. test), set ETCD_INITIAL_CLUSTER value for this name, i.e. "test=http://..."
ETCD_INITIAL_CLUSTER="<%= Array(scope['etcd::initial_cluster']).join(',') %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::initial_cluster_state']) -%>
ETCD_INITIAL_CLUSTER_STATE="<%= scope['etcd::initial_cluster_state'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::initial_cluster_token']) -%>
ETCD_INITIAL_CLUSTER_TOKEN="<%= scope['etcd::initial_cluster_token'] %>"
<% end -%>
ETCD_ADVERTISE_CLIENT_URLS="<%= Array(scope['etcd::advertise_client_urls']).join(',') %>"
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery']) -%>
ETCD_DISCOVERY="<%= scope['etcd::discovery'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery_srv']) -%>
ETCD_DISCOVERY_SRV="<%= scope['etcd::discovery_srv'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery_fallback']) -%>
ETCD_DISCOVERY_FALLBACK="<%= scope['etcd::discovery_fallback'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::discovery_proxy']) -%>
ETCD_DISCOVERY_PROXY="<%= scope['etcd::discovery_proxy'] %>"
<% end -%>
#
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::real_proxy']) and scope['etcd::real_proxy'] != 'off' -%>
#[proxy]
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::real_proxy']) -%>
ETCD_PROXY="<%= scope['etcd::real_proxy'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::proxy_failure_wait']) -%>
ETCD_PROXY_FAILURE_WAIT="<%= scope['etcd::proxy_failure_wait'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::proxy_refresh_interval']) -%>
ETCD_PROXY_REFRESH_INTERVAL="<%= scope['etcd::proxy_refresh_interval'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::proxy_dial_timeout']) -%>
ETCD_PROXY_DIAL_TIMEOUT="<%= scope['etcd::proxy_dial_timeout'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::proxy_write_timeout']) -%>
ETCD_PROXY_WRITE_TIMEOUT="<%= scope['etcd::proxy_write_timeout'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::proxy_read_timeout']) -%>
ETCD_PROXY_READ_TIMEOUT="<%= scope['etcd::proxy_read_timeout'] %>"
<% end -%>
<% end -%>
#
#[security]
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::cert_file']) -%>
ETCD_CERT_FILE="<%= scope['etcd::cert_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::key_file']) -%>
ETCD_KEY_FILE="<%= scope['etcd::key_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::client_cert_auth']) -%>
ETCD_CLIENT_CERT_AUTH=<%= scope['etcd::client_cert_auth'] %>
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::trusted_ca_file']) -%>
ETCD_TRUSTED_CA_FILE="<%= scope['etcd::trusted_ca_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_cert_file']) -%>
ETCD_PEER_CERT_FILE="<%= scope['etcd::peer_cert_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_key_file']) -%>
ETCD_PEER_KEY_FILE="<%= scope['etcd::peer_key_file'] %>"
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_client_cert_auth']) -%>
ETCD_PEER_CLIENT_CERT_AUTH=<%= scope['etcd::peer_client_cert_auth'] %>
<% end -%>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::peer_trusted_ca_file']) -%>
ETCD_PEER_TRUSTED_CA_FILE="<%= scope['etcd::peer_trusted_ca_file'] %>"
<% end -%>
#
#[logging]
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::debug']) -%>
ETCD_DEBUG=<%= scope['etcd::debug'] %>
<% end %>
<% unless [nil, :undefined, :undef, ''].include?(scope['etcd::log_package_levels']) -%>
ETCD_LOG_PACKAGE_LEVELS="<%= scope['etcd::log_package_levels'] %>"
<% end -%>
